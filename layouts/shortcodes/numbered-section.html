{{- .Page.Scratch.Add "numbered-section" 1 -}}
{{- if site.Params.automaticSectionNumbers -}}
{{- $sectionnumbers := partialCached "sectionnumber.html" .Page -}}

{{ with .Get 0 }}
{{ .Get 0 }} {{ $sectionnumbers.Get .Page.File.Path }}{{ .Page.Scratch.Get "numbered-section" }}:
{{ else }}
Task {{ $sectionnumbers.Get .Page.File.Path }}{{ .Page.Scratch.Get "numbered-section" }}:
{{ end }}

Task {{ $sectionnumbers.Get .Page.File.Path }}{{ .Page.Scratch.Get "numbered-section" }}:
{{- else -}}
{{- with .Page.Params.sectionnumber -}}

{{ with .Get 0 }}
{{ .Get 0 }} {{ . }}.{{ $.Page.Scratch.Get "numbered-section" }}:
{{ else }}
Task {{ . }}.{{ $.Page.Scratch.Get "numbered-section" }}:
{{ end }}

{{- else -}}
{{- errorf "Either automaticSectionNumbers or sectionnumber must be set in %q" .Page.Path -}}
{{- end -}}
{{- end -}}
